
bs_srand(bs_ms())

bs_setmode( 1 )
local lastDrawX = 0
local lastDrawY = 0
local firstDraw = true

function default_size()
  return 8, 0.1
end

function param1()
  return "Chroma Key White", 0, 1, 1
end 

function param2()
   return "Spacing", 0, 100, 5
end

function param3()
   return "Follow Curve?", 0, 1, 1
end

function param4()
   return "Jitter", 0, 100, 0
end

function param5()
  return "Minimum Width", 0, 100, 10
  end
  
  
  -- refers to the number of divisions performed on Eaps.
  -- the more divisions, the more wobbly the brush may become, as interpolations from
  -- one point to the next are shorter.
  function param6()
  return "Wobbliness", 1, 10, 2
  end
  
  -- performs a leveling operation on each eap.
  -- this creates two clones of the eap, on each side of the original, separated by a distance
  -- determined by this parameter.
  -- min : 0
  -- max: 25%
  
  function param7()
  return "Sharpness", 0, 10, 8
  end
  
  -- randomizes each initialized point's value within a certain bracket.
  -- min : 0
  -- max: 0.1
  
  function param8()
  return "Randomness", 0, 10, 3
  end
  
  function param9()
  return "Opacity from Width", 0, 1, 0
  end
  
  
  
  function main( x, y, p )
  
    local w = bs_width()
    local updateDist = w / 15
    updateDist = updateDist + math.max(bs_param2() * 0.02, 0)
    if not firstDraw then
      local distance = bs_distance( lastDrawX - x, lastDrawY - y )
      if distance < updateDist then 
        return 0 
      end
    else
       firstDraw = false
    end
    table.insert( hits, { x = x, y = y } );
     draw(x, y, p)
     
    
  end
  
  function draw(x, y, percent_width)

    lastDrawX = x
    lastDrawY = y

    local r,g,b = bs_fore()
    percent_width = math.max(bs_param5() / 100, percent_width)
    local width = percent_width * bs_width_max()
    
         local alpha = bs_opacity() * 255
    if bs_param9() == 1 then
         alpha = alpha * percent_width
       end 

     local angle = 0

    if (bs_param3() == 1) then
      angle = bs_atan(bs_normal())
      if (bs_param4() > 0) then
        angle = Lerp(0, math.pi, bs_param4() / 100 * math.random())
     end
    end
 
    DrawTEX(x, y, width, angle, r, g, b, alpha )
  end
  
  function last( x, y, p )
   if bs_preview() then return 0 end
   --if 1 == 1 then return end
    
    bs_reset()
   
    local pointCount = #hits
    bs_debug_log("hits : " .. pointCount)
  
    --instead of using sin^2 x to make the stroke, use easing points instead.
    -- percent_width is an eased interpolation between two easing points.
    -- if connections is enabled, set the value of the start and end easing points to be 1 instead of zero if a pixel is read there.
  
    -- add start and finish
    local startval = 0
  
    min_width = bs_param1() / 100
  
    -- position is progress basically,
    -- value is the value to which to interpolate
    -- control is the easing value.
  
    table.insert( eaps, { pos = 0, value = min_width} )
    table.insert( eaps, { pos = 0.5, value = 1 } )
    table.insert( eaps, { pos = 1, value = min_width} )
  
    
    if pointCount > 250 then
      shape_stroke()
    end
  
      local currentW = 0

      for index , point in ipairs( hits ) do
      local location = index / pointCount
      -- first, get the base fade.
      local percent_width = get_eaps_interpolant_val(location)
           --next, multiply it by the natural stroke variance.
      percent_width = math.max ( math.min ( percent_width, 1) , min_width)
      draw(point.x, point.y, percent_width)
      --ignore above.
      end
  
  end
  
  function shape_stroke()
  
    -- create eaps according to divisions:
    -- 1 - 3 eaps
    -- 2 - 4 eaps
    -- 3 - 5 eaps
    -- 4 - 6 eaps...
    local divs = bs_param2()
    local div_delta = 1 / (divs+1)
  
    -- deaping should be done BEFORE everything to ensure real stability
    -- since everything is still centered around the shitty default curve, you need stability to ensure more maximums.
    -- deaping is global.
  
    -- todo : edit wobbliness so that it adds more divisions the higher the hit count is.
  
  
    divs = divs + math.floor ( (#hits -400) / 400 )
  
    local deapwidth =  lerp(0, 0.40, 1 - (bs_param7() / 10) )
    bs_debug_log("deaw ==  " .. deapwidth)
    table.insert( eaps, { pos = 0.5 - deapwidth, value = 1 } )
    table.insert( eaps, { pos = 0.5 + deapwidth, value = 1 } )
    
    table.sort(eaps , function (a, b) return a.pos < b.pos end)
  
    for i = 1 , divs do
      local location = div_delta * i
      local new_val = get_eaps_interpolant_val(location)
  
      if bs_param8() > 0 then
        local bracket = bs_param8() / 15
        local rvalue = 2 * bracket * math.random()
  
        new_val = new_val - bracket + rvalue
      end
      table.insert( eaps, { pos = location, value = new_val } )
    end
    -- the midpoint was just around to assist with initializing values.
    -- we don't need it anymore.
    
      table.sort(eaps , function (a, b) return a.pos < b.pos end)
    flag_for_deletion = {}
    local leap = nil
    for i = 2 , #eaps do
      leap = eaps[i-1]
       if eaps[i].pos - 0.02 <= leap.pos and
          eaps[i].pos + 0.02 >= leap.pos then
        table.insert( flag_for_deletion, i )
      end	
    end
    for _, point in ipairs( flag_for_deletion ) do
      table.remove( eaps, point )
    end
    deleap(1)
    table.insert( eaps, {pos = 1, value = 0 } )
    
  end
  
  -- edit an eap according to its progress
  function eapset( location, new_value)
    for idx , eap in ipairs( eaps ) do
      if eap.pos == location then
        eap.value = new_value
        break
      end
    end
  end
  
  function deleap( location)
    for idx , eap in ipairs( eaps ) do
      if eap.pos == location then
        table.remove(eaps, idx)
        break
      end
    end
  end
  
  function get_eaps_interpolant_val(progress)
  --scan through the eaps table, find the first eap (make sure that:
  -- eap < progress < eapnext
    local max = #eaps
    local eval_first = 0
    local eval_end = 0
    local eval_end_pos = 0
    local eval_start_pos = 0
    --bs_debug_log("Eap count == " .. max)
    --bs_debug_log("progress == " .. progress)
    local leap = eaps[1]
    for idx , eap in ipairs( eaps ) do
      -- if the index is equal to max, get out of the thing
      if idx >=  max then
        --bs_debug_log("eapv reached")
        eval_first = eaps[idx-1].value	
        eval_end = eap.value
        eval_start_pos = eaps[idx-1].pos
        eval_end_pos = eap.pos
        break
      end		
      
      --bs_debug_log("index is " .. idx .. " and its progress is " .. eap.pos )
      if eap.pos >= progress then
        --bs_debug_log("this pos is greater than prog")
        eval_end = eap.value
        eval_end_pos = eap.pos
        if idx <= 1 then
          eval_first = eap.value
          eval_start_pos = eap.pos
        else
          --bs_debug_log("prev_vals")
          eval_first = leap.value	
          eval_start_pos = leap.pos
        end
        break
      end
      
      leap = eap
  
    end
    -- ignore the easing for now, just interpolate.
    -- value is equal to progress / (eval_end_pos - eval_end_start)
    --bs_debug_log("start pos ==" .. eval_end_pos)
    --bs_debug_log("end pos ==" .. eval_end_pos)
    local val = (progress - eval_start_pos) / (eval_end_pos - eval_start_pos)
    if eval_start_pos == eval_end_pos then
      val = 1
    end
    --bs_debug_log(" value interpreted as " .. val )
    local result = lerp (eval_first, eval_end, val )
    --bs_debug_log("Lerped result = " .. result)
    return result
    -- do the interpolation
  
  end
  
  function lerp( start, ending, value)
    return value * (ending-start) + start
  end
  
  
  -- pre-draw
  hits = {}
  eaps = {}
  
  lastDrawX = 0
  lastDrawY = 0
  firstDraw = true
  
  --post-draw
  math.randomseed(bs_ms()*999999)
  bs_setmode(1)
  rand_factor = math.random(75,100) / 100
  

TEX = { 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 247, 247, 247, 252, 252, 252, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 254, 254, 254, 253, 253, 253, 157, 157, 157, 73, 73, 73, 143, 143, 143, 153, 153, 153, 139, 139, 139, 180, 180, 180, 146, 146, 146, 221, 221, 221, 161, 161, 161, 176, 176, 176, 142, 142, 142, 136, 136, 136, 163, 163, 163, 171, 171, 171, 211, 211, 211, 184, 184, 184, 146, 146, 146, 162, 162, 162, 188, 188, 188, 170, 170, 170, 175, 175, 175, 217, 217, 217, 160, 160, 160, 209, 209, 209, 205, 205, 205, 208, 208, 208, 188, 188, 188, 215, 215, 215, 169, 169, 169, 217, 217, 217, 161, 161, 161, 146, 146, 146, 117, 117, 117, 196, 196, 196, 175, 175, 175, 125, 125, 125, 99, 99, 99, 114, 114, 114, 155, 155, 155, 126, 126, 126, 64, 64, 64, 100, 100, 100, 135, 135, 135, 248, 248, 248, 254, 254, 254, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 253, 253, 253, 253, 253, 253, 149, 149, 149, 84, 84, 84, 99, 99, 99, 96, 96, 96, 115, 115, 115, 107, 107, 107, 47, 47, 47, 129, 129, 129, 97, 97, 97, 75, 75, 75, 37, 37, 37, 56, 56, 56, 53, 53, 53, 141, 141, 141, 185, 185, 185, 35, 35, 35, 11, 11, 11, 29, 29, 29, 47, 47, 47, 45, 45, 45, 49, 49, 49, 143, 143, 143, 116, 116, 116, 58, 58, 58, 61, 61, 61, 60, 60, 60, 122, 122, 122, 126, 126, 126, 166, 166, 166, 96, 96, 96, 89, 89, 89, 68, 68, 68, 150, 150, 150, 137, 137, 137, 41, 41, 41, 0, 0, 0, 60, 60, 60, 104, 104, 104, 155, 155, 155, 61, 61, 61, 110, 110, 110, 63, 63, 63, 60, 60, 60, 30, 30, 30, 102, 102, 102, 116, 116, 116, 227, 227, 227, 222, 222, 222, 202, 202, 202, 218, 218, 218, 252, 252, 252, 254, 254, 254, 251, 251, 251, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 219, 219, 219, 221, 221, 221, 158, 158, 158, 129, 129, 129, 62, 62, 62, 75, 75, 75, 152, 152, 152, 63, 63, 63, 15, 15, 15, 8, 8, 8, 57, 57, 57, 124, 124, 124, 139, 139, 139, 121, 121, 121, 12, 12, 12, 2, 2, 2, 6, 6, 6, 0, 0, 0, 8, 8, 8, 93, 93, 93, 76, 76, 76, 0, 0, 0, 0, 0, 0, 5, 5, 5, 1, 1, 1, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 47, 47, 47, 106, 106, 106, 92, 92, 92, 18, 18, 18, 2, 2, 2, 0, 0, 0, 45, 45, 45, 106, 106, 106, 34, 34, 34, 1, 1, 1, 12, 12, 12, 52, 52, 52, 23, 23, 23, 69, 69, 69, 3, 3, 3, 84, 84, 84, 118, 118, 118, 60, 60, 60, 5, 5, 5, 56, 56, 56, 138, 138, 138, 96, 96, 96, 215, 215, 215, 233, 233, 233, 252, 252, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 248, 248, 248, 228, 228, 228, 196, 196, 196, 58, 58, 58, 118, 118, 118, 94, 94, 94, 119, 119, 119, 170, 170, 170, 98, 98, 98, 25, 25, 25, 25, 25, 25, 93, 93, 93, 149, 149, 149, 123, 123, 123, 145, 145, 145, 55, 55, 55, 0, 0, 0, 0, 0, 0, 10, 10, 10, 9, 9, 9, 64, 64, 64, 100, 100, 100, 44, 44, 44, 7, 7, 7, 16, 16, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 31, 31, 31, 0, 0, 0, 64, 64, 64, 109, 109, 109, 69, 69, 69, 2, 2, 2, 0, 0, 0, 0, 0, 0, 19, 19, 19, 104, 104, 104, 64, 64, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 13, 13, 13, 93, 93, 93, 103, 103, 103, 32, 32, 32, 0, 0, 0, 0, 0, 0, 74, 74, 74, 56, 56, 56, 31, 31, 31, 88, 88, 88, 204, 204, 204, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 243, 243, 243, 225, 225, 225, 177, 177, 177, 149, 149, 149, 61, 61, 61, 81, 81, 81, 149, 149, 149, 38, 38, 38, 10, 10, 10, 100, 100, 100, 136, 136, 136, 48, 48, 48, 56, 56, 56, 106, 106, 106, 11, 11, 11, 0, 0, 0, 0, 0, 0, 7, 7, 7, 44, 44, 44, 106, 106, 106, 67, 67, 67, 23, 23, 23, 12, 12, 12, 7, 7, 7, 33, 33, 33, 35, 35, 35, 61, 61, 61, 5, 5, 5, 88, 88, 88, 111, 111, 111, 47, 47, 47, 0, 0, 0, 2, 2, 2, 17, 17, 17, 4, 4, 4, 94, 94, 94, 98, 98, 98, 19, 19, 19, 1, 1, 1, 6, 6, 6, 16, 16, 16, 27, 27, 27, 52, 52, 52, 107, 107, 107, 96, 96, 96, 18, 18, 18, 31, 31, 31, 60, 60, 60, 82, 82, 82, 137, 137, 137, 104, 104, 104, 140, 140, 140, 119, 119, 119, 200, 200, 200, 252, 252, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 252, 252, 252, 245, 245, 245, 202, 202, 202, 224, 224, 224, 85, 85, 85, 49, 49, 49, 136, 136, 136, 130, 130, 130, 52, 52, 52, 32, 32, 32, 150, 150, 150, 55, 55, 55, 7, 7, 7, 0, 0, 0, 0, 0, 0, 2, 2, 2, 82, 82, 82, 84, 84, 84, 5, 5, 5, 40, 40, 40, 67, 67, 67, 19, 19, 19, 21, 21, 21, 20, 20, 20, 23, 23, 23, 183, 183, 183, 116, 116, 116, 38, 38, 38, 49, 49, 49, 33, 33, 33, 41, 41, 41, 5, 5, 5, 73, 73, 73, 114, 114, 114, 62, 62, 62, 32, 32, 32, 77, 77, 77, 81, 81, 81, 75, 75, 75, 100, 100, 100, 146, 146, 146, 161, 161, 161, 110, 110, 110, 104, 104, 104, 65, 65, 65, 42, 42, 42, 52, 52, 52, 96, 96, 96, 77, 77, 77, 48, 48, 48, 50, 50, 50, 67, 67, 67, 112, 112, 112, 217, 217, 217, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 250, 250, 250, 217, 217, 217, 182, 182, 182, 44, 44, 44, 114, 114, 114, 139, 139, 139, 40, 40, 40, 0, 0, 0, 72, 72, 72, 103, 103, 103, 7, 7, 7, 58, 58, 58, 109, 109, 109, 34, 34, 34, 103, 103, 103, 100, 100, 100, 39, 39, 39, 49, 49, 49, 50, 50, 50, 55, 55, 55, 84, 84, 84, 116, 116, 116, 57, 57, 57, 175, 175, 175, 150, 150, 150, 105, 105, 105, 52, 52, 52, 86, 86, 86, 119, 119, 119, 119, 119, 119, 161, 161, 161, 181, 181, 181, 106, 106, 106, 90, 90, 90, 93, 93, 93, 101, 101, 101, 123, 123, 123, 169, 169, 169, 167, 167, 167, 66, 66, 66, 22, 22, 22, 9, 9, 9, 0, 0, 0, 0, 0, 0, 1, 1, 1, 74, 74, 74, 56, 56, 56, 10, 10, 10, 9, 9, 9, 27, 27, 27, 58, 58, 58, 66, 66, 66, 148, 148, 148, 183, 183, 183, 192, 192, 192, 253, 253, 253, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 236, 236, 236, 237, 237, 237, 243, 243, 243, 224, 224, 224, 123, 123, 123, 94, 94, 94, 15, 15, 15, 2, 2, 2, 31, 31, 31, 107, 107, 107, 39, 39, 39, 4, 4, 4, 4, 4, 4, 3, 3, 3, 14, 14, 14, 96, 96, 96, 62, 62, 62, 0, 0, 0, 0, 0, 0, 1, 1, 1, 10, 10, 10, 5, 5, 5, 47, 47, 47, 110, 110, 110, 151, 151, 151, 65, 65, 65, 0, 0, 0, 20, 20, 20, 23, 23, 23, 57, 57, 57, 86, 86, 86, 129, 129, 129, 127, 127, 127, 85, 85, 85, 53, 53, 53, 50, 50, 50, 49, 49, 49, 109, 109, 109, 100, 100, 100, 34, 34, 34, 5, 5, 5, 6, 6, 6, 21, 21, 21, 0, 0, 0, 0, 0, 0, 4, 4, 4, 101, 101, 101, 32, 32, 32, 8, 8, 8, 7, 7, 7, 39, 39, 39, 89, 89, 89, 160, 160, 160, 178, 178, 178, 116, 116, 116, 118, 118, 118, 168, 168, 168, 244, 244, 244, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 250, 250, 250, 246, 246, 246, 231, 231, 231, 143, 143, 143, 90, 90, 90, 57, 57, 57, 13, 13, 13, 41, 41, 41, 107, 107, 107, 113, 113, 113, 23, 23, 23, 12, 12, 12, 6, 6, 6, 5, 5, 5, 54, 54, 54, 99, 99, 99, 11, 11, 11, 2, 2, 2, 0, 0, 0, 3, 3, 3, 0, 0, 0, 38, 38, 38, 114, 114, 114, 94, 94, 94, 107, 107, 107, 93, 93, 93, 73, 73, 73, 75, 75, 75, 75, 75, 75, 62, 62, 62, 90, 90, 90, 108, 108, 108, 15, 15, 15, 0, 0, 0, 3, 3, 3, 73, 73, 73, 110, 110, 110, 78, 78, 78, 5, 5, 5, 0, 0, 0, 0, 0, 0, 1, 1, 1, 6, 6, 6, 3, 3, 3, 8, 8, 8, 31, 31, 31, 156, 156, 156, 127, 127, 127, 118, 118, 118, 169, 169, 169, 194, 194, 194, 129, 129, 129, 42, 42, 42, 21, 21, 21, 38, 38, 38, 35, 35, 35, 151, 151, 151, 224, 224, 224, 251, 251, 251, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 209, 209, 209, 103, 103, 103, 53, 53, 53, 30, 30, 30, 17, 17, 17, 76, 76, 76, 104, 104, 104, 31, 31, 31, 21, 21, 21, 9, 9, 9, 8, 8, 8, 14, 14, 14, 108, 108, 108, 59, 59, 59, 3, 3, 3, 2, 2, 2, 5, 5, 5, 1, 1, 1, 53, 53, 53, 154, 154, 154, 150, 150, 150, 117, 117, 117, 101, 101, 101, 51, 51, 51, 9, 9, 9, 0, 0, 0, 1, 1, 1, 36, 36, 36, 120, 120, 120, 52, 52, 52, 12, 12, 12, 43, 43, 43, 110, 110, 110, 150, 150, 150, 62, 62, 62, 28, 28, 28, 17, 17, 17, 2, 2, 2, 10, 10, 10, 76, 76, 76, 112, 112, 112, 123, 123, 123, 129, 129, 129, 121, 121, 121, 109, 109, 109, 144, 144, 144, 105, 105, 105, 100, 100, 100, 63, 63, 63, 4, 4, 4, 1, 1, 1, 7, 7, 7, 15, 15, 15, 31, 31, 31, 32, 32, 32, 246, 246, 246, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 238, 238, 238, 229, 229, 229, 212, 212, 212, 139, 139, 139, 166, 166, 166, 180, 180, 180, 115, 115, 115, 93, 93, 93, 107, 107, 107, 88, 88, 88, 113, 113, 113, 133, 133, 133, 93, 93, 93, 69, 69, 69, 92, 92, 92, 64, 64, 64, 120, 120, 120, 152, 152, 152, 70, 70, 70, 43, 43, 43, 89, 89, 89, 40, 40, 40, 15, 15, 15, 10, 10, 10, 9, 9, 9, 18, 18, 18, 70, 70, 70, 111, 111, 111, 42, 42, 42, 112, 112, 112, 148, 148, 148, 135, 135, 135, 27, 27, 27, 29, 29, 29, 47, 47, 47, 97, 97, 97, 122, 122, 122, 120, 120, 120, 118, 118, 118, 97, 97, 97, 25, 25, 25, 10, 10, 10, 10, 10, 10, 19, 19, 19, 21, 21, 21, 0, 0, 0, 5, 5, 5, 57, 57, 57, 25, 25, 25, 19, 19, 19, 3, 3, 3, 33, 33, 33, 41, 41, 41, 0, 0, 0, 19, 19, 19, 120, 120, 120, 185, 185, 185, 253, 253, 253, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 254, 254, 254, 252, 252, 252, 196, 196, 196, 164, 164, 164, 107, 107, 107, 89, 89, 89, 35, 35, 35, 65, 65, 65, 28, 28, 28, 110, 110, 110, 90, 90, 90, 40, 40, 40, 38, 38, 38, 71, 71, 71, 83, 83, 83, 154, 154, 154, 103, 103, 103, 30, 30, 30, 64, 64, 64, 92, 92, 92, 21, 21, 21, 7, 7, 7, 0, 0, 0, 6, 6, 6, 0, 0, 0, 3, 3, 3, 181, 181, 181, 175, 175, 175, 149, 149, 149, 134, 134, 134, 143, 143, 143, 133, 133, 133, 129, 129, 129, 134, 134, 134, 85, 85, 85, 36, 36, 36, 5, 5, 5, 2, 2, 2, 1, 1, 1, 13, 13, 13, 7, 7, 7, 2, 2, 2, 30, 30, 30, 7, 7, 7, 1, 1, 1, 2, 2, 2, 4, 4, 4, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 3, 3, 3, 65, 65, 65, 137, 137, 137, 182, 182, 182, 253, 253, 253, 253, 253, 253, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 251, 251, 251, 203, 203, 203, 152, 152, 152, 71, 71, 71, 56, 56, 56, 85, 85, 85, 153, 153, 153, 78, 78, 78, 123, 123, 123, 104, 104, 104, 162, 162, 162, 160, 160, 160, 76, 76, 76, 71, 71, 71, 74, 74, 74, 147, 147, 147, 100, 100, 100, 110, 110, 110, 79, 79, 79, 39, 39, 39, 34, 34, 34, 75, 75, 75, 93, 93, 93, 133, 133, 133, 141, 141, 141, 149, 149, 149, 142, 142, 142, 104, 104, 104, 56, 56, 56, 13, 13, 13, 31, 31, 31, 35, 35, 35, 30, 30, 30, 4, 4, 4, 8, 8, 8, 3, 3, 3, 8, 8, 8, 14, 14, 14, 11, 11, 11, 9, 9, 9, 42, 42, 42, 67, 67, 67, 67, 67, 67, 71, 71, 71, 65, 65, 65, 63, 63, 63, 67, 67, 67, 40, 40, 40, 41, 41, 41, 45, 45, 45, 36, 36, 36, 48, 48, 48, 100, 100, 100, 81, 81, 81, 61, 61, 61, 155, 155, 155, 189, 189, 189, 250, 250, 250, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 254, 254, 254, 254, 254, 254, 243, 243, 243, 145, 145, 145, 143, 143, 143, 114, 114, 114, 179, 179, 179, 168, 168, 168, 109, 109, 109, 114, 114, 114, 187, 187, 187, 155, 155, 155, 122, 122, 122, 91, 91, 91, 32, 32, 32, 85, 85, 85, 107, 107, 107, 27, 27, 27, 47, 47, 47, 74, 74, 74, 131, 131, 131, 161, 161, 161, 207, 207, 207, 158, 158, 158, 134, 134, 134, 111, 111, 111, 95, 95, 95, 56, 56, 56, 32, 32, 32, 40, 40, 40, 40, 40, 40, 67, 67, 67, 41, 41, 41, 80, 80, 80, 66, 66, 66, 106, 106, 106, 78, 78, 78, 129, 129, 129, 96, 96, 96, 125, 125, 125, 158, 158, 158, 130, 130, 130, 161, 161, 161, 172, 172, 172, 185, 185, 185, 168, 168, 168, 151, 151, 151, 160, 160, 160, 118, 118, 118, 113, 113, 113, 114, 114, 114, 132, 132, 132, 152, 152, 152, 186, 186, 186, 173, 173, 173, 197, 197, 197, 233, 233, 233, 254, 254, 254, 255, 255, 255, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 226, 226, 226, 143, 143, 143, 169, 169, 169, 161, 161, 161, 117, 117, 117, 113, 113, 113, 158, 158, 158, 113, 113, 113, 139, 139, 139, 161, 161, 161, 144, 144, 144, 80, 80, 80, 68, 68, 68, 109, 109, 109, 100, 100, 100, 134, 134, 134, 119, 119, 119, 123, 123, 123, 135, 135, 135, 179, 179, 179, 171, 171, 171, 123, 123, 123, 79, 79, 79, 35, 35, 35, 44, 44, 44, 64, 64, 64, 41, 41, 41, 6, 6, 6, 11, 11, 11, 24, 24, 24, 27, 27, 27, 18, 18, 18, 23, 23, 23, 60, 60, 60, 71, 71, 71, 86, 86, 86, 87, 87, 87, 159, 159, 159, 112, 112, 112, 23, 23, 23, 35, 35, 35, 34, 34, 34, 51, 51, 51, 80, 80, 80, 107, 107, 107, 110, 110, 110, 82, 82, 82, 71, 71, 71, 73, 73, 73, 102, 102, 102, 99, 99, 99, 118, 118, 118, 146, 146, 146, 111, 111, 111, 125, 125, 125, 237, 237, 237, 254, 254, 254, 253, 253, 253, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 253, 253, 253, 240, 240, 240, 231, 231, 231, 245, 245, 245, 232, 232, 232, 163, 163, 163, 152, 152, 152, 139, 139, 139, 122, 122, 122, 130, 130, 130, 193, 193, 193, 175, 175, 175, 176, 176, 176, 172, 172, 172, 156, 156, 156, 98, 98, 98, 32, 32, 32, 19, 19, 19, 42, 42, 42, 89, 89, 89, 98, 98, 98, 79, 79, 79, 49, 49, 49, 53, 53, 53, 48, 48, 48, 74, 74, 74, 52, 52, 52, 69, 69, 69, 68, 68, 68, 87, 87, 87, 43, 43, 43, 57, 57, 57, 125, 125, 125, 171, 171, 171, 136, 136, 136, 27, 27, 27, 47, 47, 47, 53, 53, 53, 82, 82, 82, 77, 77, 77, 64, 64, 64, 39, 39, 39, 84, 84, 84, 90, 90, 90, 98, 98, 98, 84, 84, 84, 90, 90, 90, 120, 120, 120, 183, 183, 183, 188, 188, 188, 144, 144, 144, 99, 99, 99, 148, 148, 148, 207, 207, 207, 251, 251, 251, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 233, 233, 233, 234, 234, 234, 212, 212, 212, 195, 195, 195, 200, 200, 200, 169, 169, 169, 127, 127, 127, 123, 123, 123, 124, 124, 124, 175, 175, 175, 155, 155, 155, 207, 207, 207, 159, 159, 159, 67, 67, 67, 24, 24, 24, 20, 20, 20, 23, 23, 23, 10, 10, 10, 38, 38, 38, 62, 62, 62, 50, 50, 50, 21, 21, 21, 24, 24, 24, 33, 33, 33, 80, 80, 80, 52, 52, 52, 101, 101, 101, 68, 68, 68, 86, 86, 86, 104, 104, 104, 47, 47, 47, 82, 82, 82, 119, 119, 119, 141, 141, 141, 137, 137, 137, 89, 89, 89, 27, 27, 27, 96, 96, 96, 133, 133, 133, 152, 152, 152, 89, 89, 89, 81, 81, 81, 77, 77, 77, 68, 68, 68, 23, 23, 23, 41, 41, 41, 115, 115, 115, 135, 135, 135, 163, 163, 163, 183, 183, 183, 138, 138, 138, 129, 129, 129, 114, 114, 114, 125, 125, 125, 42, 42, 42, 35, 35, 35, 88, 88, 88, 227, 227, 227, 254, 254, 254, 253, 253, 253, 255, 255, 255, 254, 254, 254, 255, 255, 255, 254, 254, 254, 225, 225, 225, 119, 119, 119, 133, 133, 133, 150, 150, 150, 150, 150, 150, 141, 141, 141, 185, 185, 185, 184, 184, 184, 215, 215, 215, 119, 119, 119, 42, 42, 42, 12, 12, 12, 16, 16, 16, 8, 8, 8, 21, 21, 21, 1, 1, 1, 44, 44, 44, 50, 50, 50, 47, 47, 47, 7, 7, 7, 18, 18, 18, 7, 7, 7, 16, 16, 16, 31, 31, 31, 11, 11, 11, 2, 2, 2, 2, 2, 2, 11, 11, 11, 1, 1, 1, 67, 67, 67, 124, 124, 124, 136, 136, 136, 138, 138, 138, 134, 134, 134, 104, 104, 104, 162, 162, 162, 205, 205, 205, 76, 76, 76, 45, 45, 45, 3, 3, 3, 0, 0, 0, 13, 13, 13, 64, 64, 64, 71, 71, 71, 74, 74, 74, 68, 68, 68, 87, 87, 87, 193, 193, 193, 219, 219, 219, 122, 122, 122, 70, 70, 70, 16, 16, 16, 2, 2, 2, 1, 1, 1, 10, 10, 10, 105, 105, 105, 152, 152, 152, 219, 219, 219, 250, 250, 250, 253, 253, 253, 252, 252, 252, 254, 254, 254, 255, 255, 255, 255, 255, 255, 237, 237, 237, 210, 210, 210, 210, 210, 210, 164, 164, 164, 159, 159, 159, 112, 112, 112, 136, 136, 136, 89, 89, 89, 20, 20, 20, 25, 25, 25, 38, 38, 38, 53, 53, 53, 10, 10, 10, 45, 45, 45, 67, 67, 67, 48, 48, 48, 55, 55, 55, 45, 45, 45, 31, 31, 31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 0, 26, 26, 26, 69, 69, 69, 175, 175, 175, 180, 180, 180, 233, 233, 233, 190, 190, 190, 144, 144, 144, 157, 157, 157, 112, 112, 112, 120, 120, 120, 40, 40, 40, 0, 0, 0, 36, 36, 36, 72, 72, 72, 93, 93, 93, 130, 130, 130, 97, 97, 97, 88, 88, 88, 104, 104, 104, 155, 155, 155, 133, 133, 133, 66, 66, 66, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, 14, 14, 50, 50, 50, 62, 62, 62, 121, 121, 121, 168, 168, 168, 119, 119, 119, 172, 172, 172, 220, 220, 220, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 177, 177, 177, 138, 138, 138, 138, 138, 138, 137, 137, 137, 167, 167, 167, 151, 151, 151, 86, 86, 86, 22, 22, 22, 21, 21, 21, 31, 31, 31, 35, 35, 35, 58, 58, 58, 52, 52, 52, 37, 37, 37, 1, 1, 1, 9, 9, 9, 1, 1, 1, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 47, 47, 47, 67, 67, 67, 69, 69, 69, 125, 125, 125, 156, 156, 156, 144, 144, 144, 225, 225, 225, 209, 209, 209, 110, 110, 110, 87, 87, 87, 100, 100, 100, 36, 36, 36, 103, 103, 103, 77, 77, 77, 102, 102, 102, 157, 157, 157, 134, 134, 134, 109, 109, 109, 77, 77, 77, 54, 54, 54, 84, 84, 84, 182, 182, 182, 196, 196, 196, 70, 70, 70, 51, 51, 51, 21, 21, 21, 10, 10, 10, 46, 46, 46, 78, 78, 78, 75, 75, 75, 139, 139, 139, 176, 176, 176, 167, 167, 167, 102, 102, 102, 91, 91, 91, 195, 195, 195, 253, 253, 253, 254, 254, 254, 255, 255, 255, 254, 254, 254, 255, 255, 255, 254, 254, 254, 244, 244, 244, 243, 243, 243, 234, 234, 234, 233, 233, 233, 237, 237, 237, 245, 245, 245, 229, 229, 229, 193, 193, 193, 164, 164, 164, 79, 79, 79, 61, 61, 61, 25, 25, 25, 87, 87, 87, 16, 16, 16, 30, 30, 30, 27, 27, 27, 3, 3, 3, 42, 42, 42, 57, 57, 57, 61, 61, 61, 61, 61, 61, 57, 57, 57, 20, 20, 20, 39, 39, 39, 111, 111, 111, 105, 105, 105, 183, 183, 183, 161, 161, 161, 143, 143, 143, 68, 68, 68, 115, 115, 115, 48, 48, 48, 61, 61, 61, 179, 179, 179, 173, 173, 173, 133, 133, 133, 84, 84, 84, 25, 25, 25, 18, 18, 18, 78, 78, 78, 104, 104, 104, 174, 174, 174, 166, 166, 166, 106, 106, 106, 14, 14, 14, 63, 63, 63, 79, 79, 79, 90, 90, 90, 84, 84, 84, 57, 57, 57, 57, 57, 57, 114, 114, 114, 99, 99, 99, 15, 15, 15, 2, 2, 2, 7, 7, 7, 39, 39, 39, 59, 59, 59, 146, 146, 146, 222, 222, 222, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 254, 254, 254, 250, 250, 250, 228, 228, 228, 229, 229, 229, 223, 223, 223, 211, 211, 211, 95, 95, 95, 84, 84, 84, 1, 1, 1, 8, 8, 8, 29, 29, 29, 7, 7, 7, 10, 10, 10, 25, 25, 25, 36, 36, 36, 43, 43, 43, 67, 67, 67, 54, 54, 54, 27, 27, 27, 19, 19, 19, 0, 0, 0, 27, 27, 27, 107, 107, 107, 144, 144, 144, 168, 168, 168, 163, 163, 163, 102, 102, 102, 101, 101, 101, 150, 150, 150, 185, 185, 185, 138, 138, 138, 146, 146, 146, 148, 148, 148, 66, 66, 66, 67, 67, 67, 35, 35, 35, 90, 90, 90, 87, 87, 87, 79, 79, 79, 102, 102, 102, 125, 125, 125, 102, 102, 102, 116, 116, 116, 75, 75, 75, 70, 70, 70, 26, 26, 26, 19, 19, 19, 29, 29, 29, 44, 44, 44, 118, 118, 118, 94, 94, 94, 7, 7, 7, 14, 14, 14, 23, 23, 23, 35, 35, 35, 95, 95, 95, 68, 68, 68, 236, 236, 236, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 254, 254, 254, 254, 254, 254, 253, 253, 253, 195, 195, 195, 101, 101, 101, 60, 60, 60, 36, 36, 36, 45, 45, 45, 23, 23, 23, 0, 0, 0, 0, 0, 0, 3, 3, 3, 0, 0, 0, 3, 3, 3, 2, 2, 2, 3, 3, 3, 0, 0, 0, 5, 5, 5, 0, 0, 0, 3, 3, 3, 1, 1, 1, 4, 4, 4, 105, 105, 105, 194, 194, 194, 211, 211, 211, 182, 182, 182, 171, 171, 171, 167, 167, 167, 182, 182, 182, 182, 182, 182, 114, 114, 114, 27, 27, 27, 62, 62, 62, 76, 76, 76, 5, 5, 5, 63, 63, 63, 84, 84, 84, 76, 76, 76, 16, 16, 16, 79, 79, 79, 145, 145, 145, 114, 114, 114, 98, 98, 98, 123, 123, 123, 73, 73, 73, 48, 48, 48, 6, 6, 6, 13, 13, 13, 43, 43, 43, 143, 143, 143, 163, 163, 163, 59, 59, 59, 64, 64, 64, 43, 43, 43, 9, 9, 9, 82, 82, 82, 189, 189, 189, 192, 192, 192, 247, 247, 247, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 254, 254, 254, 222, 222, 222, 77, 77, 77, 90, 90, 90, 74, 74, 74, 21, 21, 21, 22, 22, 22, 24, 24, 24, 13, 13, 13, 25, 25, 25, 9, 9, 9, 30, 30, 30, 8, 8, 8, 36, 36, 36, 23, 23, 23, 26, 26, 26, 14, 14, 14, 41, 41, 41, 128, 128, 128, 128, 128, 128, 164, 164, 164, 207, 207, 207, 163, 163, 163, 192, 192, 192, 182, 182, 182, 122, 122, 122, 54, 54, 54, 1, 1, 1, 0, 0, 0, 84, 84, 84, 117, 117, 117, 101, 101, 101, 87, 87, 87, 49, 49, 49, 77, 77, 77, 115, 115, 115, 134, 134, 134, 159, 159, 159, 160, 160, 160, 162, 162, 162, 102, 102, 102, 60, 60, 60, 6, 6, 6, 49, 49, 49, 147, 147, 147, 163, 163, 163, 98, 98, 98, 127, 127, 127, 124, 124, 124, 93, 93, 93, 110, 110, 110, 186, 186, 186, 155, 155, 155, 189, 189, 189, 177, 177, 177, 208, 208, 208, 176, 176, 176, 185, 185, 185, 162, 162, 162, 176, 176, 176, 242, 242, 242, 254, 254, 254, 255, 255, 255, 216, 216, 216, 167, 167, 167, 164, 164, 164, 162, 162, 162, 161, 161, 161, 136, 136, 136, 138, 138, 138, 123, 123, 123, 107, 107, 107, 21, 21, 21, 21, 21, 21, 28, 28, 28, 69, 69, 69, 79, 79, 79, 50, 50, 50, 100, 100, 100, 105, 105, 105, 165, 165, 165, 194, 194, 194, 182, 182, 182, 220, 220, 220, 184, 184, 184, 133, 133, 133, 149, 149, 149, 161, 161, 161, 29, 29, 29, 11, 11, 11, 16, 16, 16, 73, 73, 73, 126, 126, 126, 114, 114, 114, 113, 113, 113, 97, 97, 97, 84, 84, 84, 133, 133, 133, 168, 168, 168, 200, 200, 200, 166, 166, 166, 162, 162, 162, 99, 99, 99, 53, 53, 53, 42, 42, 42, 67, 67, 67, 181, 181, 181, 204, 204, 204, 129, 129, 129, 124, 124, 124, 83, 83, 83, 108, 108, 108, 90, 90, 90, 84, 84, 84, 84, 84, 84, 79, 79, 79, 100, 100, 100, 59, 59, 59, 56, 56, 56, 56, 56, 56, 111, 111, 111, 121, 121, 121, 101, 101, 101, 88, 88, 88, 235, 235, 235, 254, 254, 254, 255, 255, 255, 254, 254, 254, 210, 210, 210, 202, 202, 202, 200, 200, 200, 214, 214, 214, 225, 225, 225, 200, 200, 200, 62, 62, 62, 90, 90, 90, 36, 36, 36, 58, 58, 58, 29, 29, 29, 26, 26, 26, 56, 56, 56, 63, 63, 63, 100, 100, 100, 136, 136, 136, 157, 157, 157, 144, 144, 144, 200, 200, 200, 138, 138, 138, 118, 118, 118, 139, 139, 139, 53, 53, 53, 11, 11, 11, 74, 74, 74, 99, 99, 99, 145, 145, 145, 161, 161, 161, 96, 96, 96, 70, 70, 70, 26, 26, 26, 48, 48, 48, 160, 160, 160, 204, 204, 204, 151, 151, 151, 113, 113, 113, 133, 133, 133, 56, 56, 56, 12, 12, 12, 16, 16, 16, 84, 84, 84, 118, 118, 118, 67, 67, 67, 8, 8, 8, 24, 24, 24, 56, 56, 56, 128, 128, 128, 1, 1, 1, 7, 7, 7, 15, 15, 15, 9, 9, 9, 1, 1, 1, 21, 21, 21, 13, 13, 13, 5, 5, 5, 15, 15, 15, 42, 42, 42, 89, 89, 89, 147, 147, 147, 183, 183, 183, 247, 247, 247, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 251, 251, 251, 228, 228, 228, 162, 162, 162, 98, 98, 98, 122, 122, 122, 20, 20, 20, 6, 6, 6, 1, 1, 1, 0, 0, 0, 1, 1, 1, 16, 16, 16, 101, 101, 101, 111, 111, 111, 159, 159, 159, 141, 141, 141, 120, 120, 120, 178, 178, 178, 118, 118, 118, 153, 153, 153, 122, 122, 122, 93, 93, 93, 134, 134, 134, 169, 169, 169, 112, 112, 112, 131, 131, 131, 149, 149, 149, 17, 17, 17, 73, 73, 73, 108, 108, 108, 177, 177, 177, 181, 181, 181, 94, 94, 94, 126, 126, 126, 157, 157, 157, 134, 134, 134, 151, 151, 151, 7, 7, 7, 79, 79, 79, 125, 125, 125, 82, 82, 82, 22, 22, 22, 15, 15, 15, 59, 59, 59, 151, 151, 151, 199, 199, 199, 127, 127, 127, 62, 62, 62, 97, 97, 97, 114, 114, 114, 95, 95, 95, 105, 105, 105, 145, 145, 145, 114, 114, 114, 162, 162, 162, 164, 164, 164, 227, 227, 227, 217, 217, 217, 252, 252, 252, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 246, 246, 246, 177, 177, 177, 148, 148, 148, 33, 33, 33, 1, 1, 1, 50, 50, 50, 24, 24, 24, 9, 9, 9, 101, 101, 101, 105, 105, 105, 131, 131, 131, 165, 165, 165, 64, 64, 64, 124, 124, 124, 128, 128, 128, 186, 186, 186, 176, 176, 176, 169, 169, 169, 149, 149, 149, 88, 88, 88, 46, 46, 46, 41, 41, 41, 86, 86, 86, 138, 138, 138, 115, 115, 115, 155, 155, 155, 199, 199, 199, 149, 149, 149, 105, 105, 105, 108, 108, 108, 125, 125, 125, 175, 175, 175, 176, 176, 176, 210, 210, 210, 222, 222, 222, 191, 191, 191, 137, 137, 137, 174, 174, 174, 163, 163, 163, 114, 114, 114, 213, 213, 213, 180, 180, 180, 171, 171, 171, 181, 181, 181, 89, 89, 89, 129, 129, 129, 106, 106, 106, 104, 104, 104, 94, 94, 94, 83, 83, 83, 47, 47, 47, 133, 133, 133, 153, 153, 153, 108, 108, 108, 107, 107, 107, 219, 219, 219, 217, 217, 217, 223, 223, 223, 248, 248, 248, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 235, 235, 235, 229, 229, 229, 235, 235, 235, 45, 45, 45, 35, 35, 35, 22, 22, 22, 50, 50, 50, 101, 101, 101, 37, 37, 37, 78, 78, 78, 132, 132, 132, 165, 165, 165, 205, 205, 205, 183, 183, 183, 217, 217, 217, 145, 145, 145, 101, 101, 101, 69, 69, 69, 49, 49, 49, 45, 45, 45, 67, 67, 67, 154, 154, 154, 183, 183, 183, 123, 123, 123, 202, 202, 202, 129, 129, 129, 26, 26, 26, 94, 94, 94, 81, 81, 81, 53, 53, 53, 109, 109, 109, 131, 131, 131, 168, 168, 168, 110, 110, 110, 30, 30, 30, 12, 12, 12, 30, 30, 30, 58, 58, 58, 159, 159, 159, 149, 149, 149, 65, 65, 65, 128, 128, 128, 104, 104, 104, 34, 34, 34, 53, 53, 53, 65, 65, 65, 115, 115, 115, 69, 69, 69, 71, 71, 71, 115, 115, 115, 163, 163, 163, 117, 117, 117, 64, 64, 64, 141, 141, 141, 175, 175, 175, 150, 150, 150, 167, 167, 167, 223, 223, 223, 253, 253, 253, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 242, 242, 242, 182, 182, 182, 149, 149, 149, 105, 105, 105, 33, 33, 33, 55, 55, 55, 99, 99, 99, 78, 78, 78, 63, 63, 63, 52, 52, 52, 57, 57, 57, 169, 169, 169, 212, 212, 212, 154, 154, 154, 97, 97, 97, 39, 39, 39, 69, 69, 69, 87, 87, 87, 89, 89, 89, 130, 130, 130, 108, 108, 108, 153, 153, 153, 56, 56, 56, 97, 97, 97, 107, 107, 107, 14, 14, 14, 46, 46, 46, 90, 90, 90, 22, 22, 22, 16, 16, 16, 33, 33, 33, 112, 112, 112, 164, 164, 164, 63, 63, 63, 62, 62, 62, 63, 63, 63, 82, 82, 82, 178, 178, 178, 191, 191, 191, 80, 80, 80, 29, 29, 29, 127, 127, 127, 42, 42, 42, 16, 16, 16, 37, 37, 37, 54, 54, 54, 30, 30, 30, 6, 6, 6, 36, 36, 36, 112, 112, 112, 49, 49, 49, 20, 20, 20, 27, 27, 27, 134, 134, 134, 113, 113, 113, 102, 102, 102, 118, 118, 118, 129, 129, 129, 222, 222, 222, 253, 253, 253, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 248, 248, 248, 134, 134, 134, 68, 68, 68, 43, 43, 43, 117, 117, 117, 81, 81, 81, 60, 60, 60, 38, 38, 38, 112, 112, 112, 178, 178, 178, 207, 207, 207, 103, 103, 103, 25, 25, 25, 58, 58, 58, 98, 98, 98, 121, 121, 121, 81, 81, 81, 54, 54, 54, 30, 30, 30, 105, 105, 105, 104, 104, 104, 115, 115, 115, 65, 65, 65, 48, 48, 48, 101, 101, 101, 79, 79, 79, 65, 65, 65, 71, 71, 71, 69, 69, 69, 166, 166, 166, 102, 102, 102, 3, 3, 3, 3, 3, 3, 58, 58, 58, 158, 158, 158, 132, 132, 132, 41, 41, 41, 40, 40, 40, 113, 113, 113, 148, 148, 148, 90, 90, 90, 86, 86, 86, 6, 6, 6, 49, 49, 49, 49, 49, 49, 25, 25, 25, 99, 99, 99, 93, 93, 93, 1, 1, 1, 37, 37, 37, 111, 111, 111, 133, 133, 133, 61, 61, 61, 28, 28, 28, 158, 158, 158, 246, 246, 246, 253, 253, 253, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 162, 162, 162, 146, 146, 146, 144, 144, 144, 57, 57, 57, 94, 94, 94, 103, 103, 103, 170, 170, 170, 204, 204, 204, 144, 144, 144, 93, 93, 93, 74, 74, 74, 55, 55, 55, 17, 17, 17, 9, 9, 9, 20, 20, 20, 18, 18, 18, 63, 63, 63, 181, 181, 181, 175, 175, 175, 83, 83, 83, 60, 60, 60, 122, 122, 122, 132, 132, 132, 167, 167, 167, 159, 159, 159, 120, 120, 120, 160, 160, 160, 156, 156, 156, 96, 96, 96, 175, 175, 175, 195, 195, 195, 202, 202, 202, 161, 161, 161, 124, 124, 124, 143, 143, 143, 131, 131, 131, 169, 169, 169, 162, 162, 162, 40, 40, 40, 89, 89, 89, 99, 99, 99, 64, 64, 64, 125, 125, 125, 153, 153, 153, 99, 99, 99, 65, 65, 65, 85, 85, 85, 154, 154, 154, 188, 188, 188, 63, 63, 63, 1, 1, 1, 34, 34, 34, 155, 155, 155, 202, 202, 202, 252, 252, 252, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 227, 227, 227, 115, 115, 115, 112, 112, 112, 165, 165, 165, 154, 154, 154, 164, 164, 164, 72, 72, 72, 3, 3, 3, 9, 9, 9, 0, 0, 0, 40, 40, 40, 82, 82, 82, 49, 49, 49, 22, 22, 22, 81, 81, 81, 145, 145, 145, 154, 154, 154, 134, 134, 134, 117, 117, 117, 83, 83, 83, 11, 11, 11, 16, 16, 16, 2, 2, 2, 29, 29, 29, 83, 83, 83, 118, 118, 118, 113, 113, 113, 151, 151, 151, 194, 194, 194, 177, 177, 177, 111, 111, 111, 83, 83, 83, 89, 89, 89, 112, 112, 112, 173, 173, 173, 149, 149, 149, 104, 104, 104, 71, 71, 71, 56, 56, 56, 62, 62, 62, 78, 78, 78, 143, 143, 143, 91, 91, 91, 101, 101, 101, 101, 101, 101, 158, 158, 158, 170, 170, 170, 61, 61, 61, 85, 85, 85, 98, 98, 98, 194, 194, 194, 234, 234, 234, 249, 249, 249, 253, 253, 253, 251, 251, 251, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 232, 232, 232, 163, 163, 163, 183, 183, 183, 158, 158, 158, 46, 46, 46, 38, 38, 38, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 15, 15, 105, 105, 105, 182, 182, 182, 163, 163, 163, 74, 74, 74, 41, 41, 41, 32, 32, 32, 6, 6, 6, 9, 9, 9, 3, 3, 3, 14, 14, 14, 12, 12, 12, 117, 117, 117, 142, 142, 142, 132, 132, 132, 177, 177, 177, 221, 221, 221, 146, 146, 146, 105, 105, 105, 84, 84, 84, 64, 64, 64, 81, 81, 81, 183, 183, 183, 180, 180, 180, 124, 124, 124, 104, 104, 104, 74, 74, 74, 31, 31, 31, 90, 90, 90, 94, 94, 94, 8, 8, 8, 52, 52, 52, 88, 88, 88, 169, 169, 169, 90, 90, 90, 1, 1, 1, 7, 7, 7, 96, 96, 96, 124, 124, 124, 6, 6, 6, 7, 7, 7, 116, 116, 116, 197, 197, 197, 229, 229, 229, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 237, 237, 237, 129, 129, 129, 114, 114, 114, 103, 103, 103, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 50, 50, 50, 151, 151, 151, 181, 181, 181, 79, 79, 79, 8, 8, 8, 15, 15, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 40, 40, 40, 173, 173, 173, 173, 173, 173, 148, 148, 148, 211, 211, 211, 128, 128, 128, 49, 49, 49, 34, 34, 34, 6, 6, 6, 42, 42, 42, 100, 100, 100, 203, 203, 203, 103, 103, 103, 41, 41, 41, 5, 5, 5, 4, 4, 4, 19, 19, 19, 93, 93, 93, 30, 30, 30, 60, 60, 60, 90, 90, 90, 144, 144, 144, 173, 173, 173, 57, 57, 57, 46, 46, 46, 105, 105, 105, 142, 142, 142, 163, 163, 163, 79, 79, 79, 84, 84, 84, 103, 103, 103, 222, 222, 222, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 254, 254, 254, 250, 250, 250, 215, 215, 215, 189, 189, 189, 48, 48, 48, 9, 9, 9, 14, 14, 14, 22, 22, 22, 24, 24, 24, 46, 46, 46, 133, 133, 133, 113, 113, 113, 106, 106, 106, 73, 73, 73, 8, 8, 8, 2, 2, 2, 0, 0, 0, 0, 0, 0, 1, 1, 1, 10, 10, 10, 15, 15, 15, 115, 115, 115, 212, 212, 212, 185, 185, 185, 231, 231, 231, 121, 121, 121, 23, 23, 23, 57, 57, 57, 69, 69, 69, 73, 73, 73, 78, 78, 78, 125, 125, 125, 164, 164, 164, 66, 66, 66, 5, 5, 5, 1, 1, 1, 17, 17, 17, 67, 67, 67, 77, 77, 77, 43, 43, 43, 52, 52, 52, 87, 87, 87, 184, 184, 184, 109, 109, 109, 63, 63, 63, 128, 128, 128, 95, 95, 95, 51, 51, 51, 73, 73, 73, 24, 24, 24, 131, 131, 131, 231, 231, 231, 238, 238, 238, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 235, 235, 235, 152, 152, 152, 151, 151, 151, 172, 172, 172, 160, 160, 160, 91, 91, 91, 134, 134, 134, 105, 105, 105, 111, 111, 111, 134, 134, 134, 70, 70, 70, 6, 6, 6, 92, 92, 92, 61, 61, 61, 3, 3, 3, 15, 15, 15, 8, 8, 8, 6, 6, 6, 3, 3, 3, 14, 14, 14, 113, 113, 113, 182, 182, 182, 158, 158, 158, 163, 163, 163, 206, 206, 206, 126, 126, 126, 105, 105, 105, 70, 70, 70, 15, 15, 15, 19, 19, 19, 62, 62, 62, 147, 147, 147, 139, 139, 139, 38, 38, 38, 5, 5, 5, 3, 3, 3, 14, 14, 14, 91, 91, 91, 37, 37, 37, 16, 16, 16, 57, 57, 57, 116, 116, 116, 198, 198, 198, 139, 139, 139, 150, 150, 150, 93, 93, 93, 25, 25, 25, 68, 68, 68, 58, 58, 58, 51, 51, 51, 58, 58, 58, 112, 112, 112, 129, 129, 129, 220, 220, 220, 254, 254, 254, 254, 254, 254, 252, 252, 252, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 253, 253, 253, 209, 209, 209, 110, 110, 110, 123, 123, 123, 175, 175, 175, 127, 127, 127, 111, 111, 111, 108, 108, 108, 117, 117, 117, 156, 156, 156, 71, 71, 71, 6, 6, 6, 7, 7, 7, 109, 109, 109, 34, 34, 34, 13, 13, 13, 0, 0, 0, 2, 2, 2, 25, 25, 25, 98, 98, 98, 129, 129, 129, 155, 155, 155, 185, 185, 185, 155, 155, 155, 220, 220, 220, 80, 80, 80, 0, 0, 0, 0, 0, 0, 1, 1, 1, 28, 28, 28, 57, 57, 57, 48, 48, 48, 114, 114, 114, 118, 118, 118, 30, 30, 30, 2, 2, 2, 7, 7, 7, 65, 65, 65, 89, 89, 89, 23, 23, 23, 14, 14, 14, 66, 66, 66, 159, 159, 159, 210, 210, 210, 141, 141, 141, 82, 82, 82, 99, 99, 99, 152, 152, 152, 83, 83, 83, 2, 2, 2, 30, 30, 30, 37, 37, 37, 43, 43, 43, 10, 10, 10, 82, 82, 82, 164, 164, 164, 227, 227, 227, 250, 250, 250, 254, 254, 254, 252, 252, 252, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 248, 248, 248, 242, 242, 242, 149, 149, 149, 140, 140, 140, 157, 157, 157, 176, 176, 176, 132, 132, 132, 131, 131, 131, 85, 85, 85, 141, 141, 141, 88, 88, 88, 59, 59, 59, 100, 100, 100, 112, 112, 112, 90, 90, 90, 55, 55, 55, 19, 19, 19, 101, 101, 101, 162, 162, 162, 166, 166, 166, 166, 166, 166, 21, 21, 21, 1, 1, 1, 2, 2, 2, 43, 43, 43, 53, 53, 53, 25, 25, 25, 49, 49, 49, 129, 129, 129, 93, 93, 93, 13, 13, 13, 48, 48, 48, 57, 57, 57, 106, 106, 106, 33, 33, 33, 3, 3, 3, 22, 22, 22, 105, 105, 105, 146, 146, 146, 91, 91, 91, 30, 30, 30, 53, 53, 53, 103, 103, 103, 77, 77, 77, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 47, 47, 47, 129, 129, 129, 101, 101, 101, 132, 132, 132, 206, 206, 206, 249, 249, 249, 254, 254, 254, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 254, 254, 254, 212, 212, 212, 170, 170, 170, 138, 138, 138, 52, 52, 52, 5, 5, 5, 29, 29, 29, 22, 22, 22, 90, 90, 90, 129, 129, 129, 78, 78, 78, 55, 55, 55, 49, 49, 49, 11, 11, 11, 0, 0, 0, 0, 0, 0, 15, 15, 15, 146, 146, 146, 189, 189, 189, 218, 218, 218, 87, 87, 87, 20, 20, 20, 10, 10, 10, 56, 56, 56, 59, 59, 59, 18, 18, 18, 0, 0, 0, 65, 65, 65, 99, 99, 99, 115, 115, 115, 71, 71, 71, 59, 59, 59, 39, 39, 39, 63, 63, 63, 3, 3, 3, 1, 1, 1, 71, 71, 71, 118, 118, 118, 119, 119, 119, 47, 47, 47, 62, 62, 62, 105, 105, 105, 73, 73, 73, 16, 16, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 55, 55, 55, 109, 109, 109, 168, 168, 168, 184, 184, 184, 61, 61, 61, 38, 38, 38, 90, 90, 90, 186, 186, 186, 183, 183, 183, 187, 187, 187, 244, 244, 244, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 250, 250, 250, 252, 252, 252, 169, 169, 169, 108, 108, 108, 64, 64, 64, 28, 28, 28, 26, 26, 26, 117, 117, 117, 38, 38, 38, 6, 6, 6, 15, 15, 15, 4, 4, 4, 1, 1, 1, 0, 0, 0, 51, 51, 51, 205, 205, 205, 229, 229, 229, 176, 176, 176, 28, 28, 28, 30, 30, 30, 71, 71, 71, 57, 57, 57, 13, 13, 13, 11, 11, 11, 2, 2, 2, 121, 121, 121, 146, 146, 146, 103, 103, 103, 39, 39, 39, 13, 13, 13, 63, 63, 63, 36, 36, 36, 0, 0, 0, 26, 26, 26, 111, 111, 111, 104, 104, 104, 143, 143, 143, 84, 84, 84, 114, 114, 114, 76, 76, 76, 18, 18, 18, 7, 7, 7, 16, 16, 16, 39, 39, 39, 36, 36, 36, 65, 65, 65, 108, 108, 108, 113, 113, 113, 113, 113, 113, 188, 188, 188, 132, 132, 132, 134, 134, 134, 161, 161, 161, 77, 77, 77, 154, 154, 154, 223, 223, 223, 241, 241, 241, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 236, 236, 236, 222, 222, 222, 224, 224, 224, 232, 232, 232, 137, 137, 137, 137, 137, 137, 66, 66, 66, 6, 6, 6, 18, 18, 18, 128, 128, 128, 11, 11, 11, 0, 0, 0, 0, 0, 0, 4, 4, 4, 1, 1, 1, 11, 11, 11, 119, 119, 119, 196, 196, 196, 206, 206, 206, 101, 101, 101, 46, 46, 46, 62, 62, 62, 30, 30, 30, 4, 4, 4, 27, 27, 27, 9, 9, 9, 62, 62, 62, 128, 128, 128, 127, 127, 127, 86, 86, 86, 23, 23, 23, 36, 36, 36, 78, 78, 78, 31, 31, 31, 55, 55, 55, 110, 110, 110, 95, 95, 95, 128, 128, 128, 135, 135, 135, 126, 126, 126, 96, 96, 96, 30, 30, 30, 20, 20, 20, 3, 3, 3, 9, 9, 9, 51, 51, 51, 52, 52, 52, 71, 71, 71, 96, 96, 96, 116, 116, 116, 147, 147, 147, 115, 115, 115, 53, 53, 53, 87, 87, 87, 82, 82, 82, 24, 24, 24, 117, 117, 117, 228, 228, 228, 226, 226, 226, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 254, 254, 254, 227, 227, 227, 180, 180, 180, 188, 188, 188, 175, 175, 175, 163, 163, 163, 65, 65, 65, 0, 0, 0, 23, 23, 23, 109, 109, 109, 5, 5, 5, 0, 0, 0, 3, 3, 3, 2, 2, 2, 4, 4, 4, 47, 47, 47, 141, 141, 141, 144, 144, 144, 177, 177, 177, 90, 90, 90, 56, 56, 56, 11, 11, 11, 0, 0, 0, 0, 0, 0, 20, 20, 20, 86, 86, 86, 141, 141, 141, 154, 154, 154, 78, 78, 78, 40, 40, 40, 2, 2, 2, 35, 35, 35, 34, 34, 34, 1, 1, 1, 40, 40, 40, 110, 110, 110, 132, 132, 132, 183, 183, 183, 93, 93, 93, 69, 69, 69, 4, 4, 4, 2, 2, 2, 5, 5, 5, 4, 4, 4, 31, 31, 31, 37, 37, 37, 51, 51, 51, 105, 105, 105, 142, 142, 142, 127, 127, 127, 162, 162, 162, 62, 62, 62, 76, 76, 76, 68, 68, 68, 15, 15, 15, 12, 12, 12, 30, 30, 30, 47, 47, 47, 178, 178, 178, 133, 133, 133, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 251, 251, 251, 196, 196, 196, 127, 127, 127, 65, 65, 65, 20, 20, 20, 74, 74, 74, 116, 116, 116, 30, 30, 30, 42, 42, 42, 20, 20, 20, 24, 24, 24, 41, 41, 41, 158, 158, 158, 142, 142, 142, 151, 151, 151, 167, 167, 167, 54, 54, 54, 6, 6, 6, 22, 22, 22, 5, 5, 5, 55, 55, 55, 107, 107, 107, 119, 119, 119, 138, 138, 138, 71, 71, 71, 35, 35, 35, 20, 20, 20, 5, 5, 5, 44, 44, 44, 28, 28, 28, 18, 18, 18, 104, 104, 104, 91, 91, 91, 92, 92, 92, 105, 105, 105, 21, 21, 21, 0, 0, 0, 4, 4, 4, 8, 8, 8, 8, 8, 8, 5, 5, 5, 10, 10, 10, 52, 52, 52, 118, 118, 118, 157, 157, 157, 101, 101, 101, 100, 100, 100, 136, 136, 136, 98, 98, 98, 71, 71, 71, 17, 17, 17, 24, 24, 24, 14, 14, 14, 37, 37, 37, 69, 69, 69, 173, 173, 173, 180, 180, 180, 228, 228, 228, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 246, 246, 246, 164, 164, 164, 138, 138, 138, 117, 117, 117, 125, 125, 125, 153, 153, 153, 55, 55, 55, 57, 57, 57, 70, 70, 70, 116, 116, 116, 159, 159, 159, 208, 208, 208, 144, 144, 144, 180, 180, 180, 70, 70, 70, 6, 6, 6, 2, 2, 2, 27, 27, 27, 89, 89, 89, 138, 138, 138, 120, 120, 120, 82, 82, 82, 133, 133, 133, 52, 52, 52, 42, 42, 42, 16, 16, 16, 26, 26, 26, 48, 48, 48, 48, 48, 48, 81, 81, 81, 109, 109, 109, 52, 52, 52, 127, 127, 127, 127, 127, 127, 74, 74, 74, 72, 72, 72, 48, 48, 48, 10, 10, 10, 3, 3, 3, 9, 9, 9, 90, 90, 90, 141, 141, 141, 165, 165, 165, 134, 134, 134, 18, 18, 18, 122, 122, 122, 152, 152, 152, 68, 68, 68, 9, 9, 9, 22, 22, 22, 3, 3, 3, 1, 1, 1, 8, 8, 8, 42, 42, 42, 143, 143, 143, 106, 106, 106, 248, 248, 248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 240, 240, 240, 243, 243, 243, 232, 232, 232, 185, 185, 185, 153, 153, 153, 111, 111, 111, 91, 91, 91, 162, 162, 162, 177, 177, 177, 215, 215, 215, 197, 197, 197, 192, 192, 192, 144, 144, 144, 130, 130, 130, 152, 152, 152, 219, 219, 219, 226, 226, 226, 199, 199, 199, 117, 117, 117, 224, 224, 224, 172, 172, 172, 173, 173, 173, 151, 151, 151, 186, 186, 186, 127, 127, 127, 174, 174, 174, 99, 99, 99, 146, 146, 146, 103, 103, 103, 104, 104, 104, 163, 163, 163, 112, 112, 112, 25, 25, 25, 65, 65, 65, 34, 34, 34, 50, 50, 50, 29, 29, 29, 63, 63, 63, 118, 118, 118, 135, 135, 135, 77, 77, 77, 19, 19, 19, 92, 92, 92, 178, 178, 178, 52, 52, 52, 4, 4, 4, 29, 29, 29, 96, 96, 96, 74, 74, 74, 74, 74, 74, 58, 58, 58, 102, 102, 102, 159, 159, 159, 36, 36, 36, 138, 138, 138, 199, 199, 199, 220, 220, 220, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 229, 229, 229, 175, 175, 175, 198, 198, 198, 192, 192, 192, 207, 207, 207, 143, 143, 143, 216, 216, 216, 185, 185, 185, 199, 199, 199, 221, 221, 221, 228, 228, 228, 157, 157, 157, 186, 186, 186, 136, 136, 136, 101, 101, 101, 13, 13, 13, 21, 21, 21, 96, 96, 96, 101, 101, 101, 58, 58, 58, 29, 29, 29, 12, 12, 12, 64, 64, 64, 25, 25, 25, 100, 100, 100, 94, 94, 94, 41, 41, 41, 118, 118, 118, 70, 70, 70, 9, 9, 9, 45, 45, 45, 56, 56, 56, 123, 123, 123, 72, 72, 72, 98, 98, 98, 159, 159, 159, 153, 153, 153, 84, 84, 84, 67, 67, 67, 101, 101, 101, 127, 127, 127, 179, 179, 179, 18, 18, 18, 22, 22, 22, 69, 69, 69, 82, 82, 82, 13, 13, 13, 4, 4, 4, 0, 0, 0, 41, 41, 41, 143, 143, 143, 116, 116, 116, 206, 206, 206, 123, 123, 123, 107, 107, 107, 151, 151, 151, 236, 236, 236, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 242, 242, 242, 167, 167, 167, 201, 201, 201, 157, 157, 157, 56, 56, 56, 44, 44, 44, 154, 154, 154, 151, 151, 151, 181, 181, 181, 118, 118, 118, 149, 149, 149, 85, 85, 85, 32, 32, 32, 15, 15, 15, 89, 89, 89, 55, 55, 55, 52, 52, 52, 121, 121, 121, 67, 67, 67, 79, 79, 79, 84, 84, 84, 64, 64, 64, 76, 76, 76, 66, 66, 66, 114, 114, 114, 25, 25, 25, 34, 34, 34, 106, 106, 106, 39, 39, 39, 15, 15, 15, 21, 21, 21, 22, 22, 22, 20, 20, 20, 90, 90, 90, 125, 125, 125, 120, 120, 120, 83, 83, 83, 81, 81, 81, 76, 76, 76, 59, 59, 59, 105, 105, 105, 156, 156, 156, 134, 134, 134, 137, 137, 137, 99, 99, 99, 35, 35, 35, 2, 2, 2, 9, 9, 9, 26, 26, 26, 72, 72, 72, 217, 217, 217, 160, 160, 160, 168, 168, 168, 138, 138, 138, 238, 238, 238, 243, 243, 243, 232, 232, 232, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 242, 242, 242, 187, 187, 187, 168, 168, 168, 180, 180, 180, 189, 189, 189, 157, 157, 157, 191, 191, 191, 147, 147, 147, 111, 111, 111, 116, 116, 116, 131, 131, 131, 157, 157, 157, 115, 115, 115, 150, 150, 150, 219, 219, 219, 137, 137, 137, 105, 105, 105, 82, 82, 82, 74, 74, 74, 122, 122, 122, 135, 135, 135, 206, 206, 206, 159, 159, 159, 86, 86, 86, 160, 160, 160, 55, 55, 55, 109, 109, 109, 106, 106, 106, 40, 40, 40, 158, 158, 158, 122, 122, 122, 98, 98, 98, 142, 142, 142, 112, 112, 112, 145, 145, 145, 114, 114, 114, 151, 151, 151, 177, 177, 177, 103, 103, 103, 60, 60, 60, 29, 29, 29, 8, 8, 8, 10, 10, 10, 68, 68, 68, 79, 79, 79, 154, 154, 154, 149, 149, 149, 139, 139, 139, 145, 145, 145, 140, 140, 140, 188, 188, 188, 200, 200, 200, 249, 249, 249, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 246, 246, 246, 233, 233, 233, 235, 235, 235, 186, 186, 186, 168, 168, 168, 181, 181, 181, 187, 187, 187, 105, 105, 105, 163, 163, 163, 156, 156, 156, 108, 108, 108, 61, 61, 61, 161, 161, 161, 136, 136, 136, 33, 33, 33, 0, 0, 0, 64, 64, 64, 24, 24, 24, 83, 83, 83, 98, 98, 98, 9, 9, 9, 19, 19, 19, 150, 150, 150, 140, 140, 140, 35, 35, 35, 55, 55, 55, 74, 74, 74, 63, 63, 63, 82, 82, 82, 60, 60, 60, 170, 170, 170, 212, 212, 212, 170, 170, 170, 133, 133, 133, 78, 78, 78, 126, 126, 126, 165, 165, 165, 67, 67, 67, 84, 84, 84, 93, 93, 93, 109, 109, 109, 123, 123, 123, 121, 121, 121, 138, 138, 138, 188, 188, 188, 239, 239, 239, 193, 193, 193, 187, 187, 187, 115, 115, 115, 73, 73, 73, 145, 145, 145, 105, 105, 105, 180, 180, 180, 224, 224, 224, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 229, 229, 229, 163, 163, 163, 128, 128, 128, 32, 32, 32, 1, 1, 1, 45, 45, 45, 73, 73, 73, 30, 30, 30, 48, 48, 48, 10, 10, 10, 91, 91, 91, 81, 81, 81, 7, 7, 7, 19, 19, 19, 33, 33, 33, 34, 34, 34, 114, 114, 114, 44, 44, 44, 29, 29, 29, 23, 23, 23, 117, 117, 117, 17, 17, 17, 11, 11, 11, 38, 38, 38, 79, 79, 79, 163, 163, 163, 147, 147, 147, 142, 142, 142, 134, 134, 134, 108, 108, 108, 79, 79, 79, 82, 82, 82, 65, 65, 65, 157, 157, 157, 87, 87, 87, 25, 25, 25, 5, 5, 5, 0, 0, 0, 19, 19, 19, 31, 31, 31, 8, 8, 8, 62, 62, 62, 126, 126, 126, 202, 202, 202, 99, 99, 99, 115, 115, 115, 9, 9, 9, 2, 2, 2, 9, 9, 9, 18, 18, 18, 170, 170, 170, 224, 224, 224, 251, 251, 251, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 158, 158, 158, 98, 98, 98, 87, 87, 87, 36, 36, 36, 31, 31, 31, 34, 34, 34, 6, 6, 6, 3, 3, 3, 3, 3, 3, 10, 10, 10, 109, 109, 109, 33, 33, 33, 65, 65, 65, 28, 28, 28, 88, 88, 88, 130, 130, 130, 132, 132, 132, 81, 81, 81, 60, 60, 60, 153, 153, 153, 164, 164, 164, 146, 146, 146, 164, 164, 164, 181, 181, 181, 197, 197, 197, 171, 171, 171, 177, 177, 177, 162, 162, 162, 136, 136, 136, 74, 74, 74, 52, 52, 52, 111, 111, 111, 113, 113, 113, 154, 154, 154, 91, 91, 91, 52, 52, 52, 19, 19, 19, 59, 59, 59, 125, 125, 125, 102, 102, 102, 144, 144, 144, 165, 165, 165, 96, 96, 96, 143, 143, 143, 125, 125, 125, 85, 85, 85, 30, 30, 30, 42, 42, 42, 7, 7, 7, 2, 2, 2, 96, 96, 96, 141, 141, 141, 249, 249, 249, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 198, 198, 198, 94, 94, 94, 48, 48, 48, 23, 23, 23, 16, 16, 16, 51, 51, 51, 12, 12, 12, 2, 2, 2, 7, 7, 7, 31, 31, 31, 158, 158, 158, 68, 68, 68, 45, 45, 45, 7, 7, 7, 62, 62, 62, 136, 136, 136, 88, 88, 88, 104, 104, 104, 29, 29, 29, 101, 101, 101, 50, 50, 50, 49, 49, 49, 136, 136, 136, 168, 168, 168, 128, 128, 128, 103, 103, 103, 74, 74, 74, 66, 66, 66, 86, 86, 86, 80, 80, 80, 55, 55, 55, 46, 46, 46, 73, 73, 73, 131, 131, 131, 23, 23, 23, 53, 53, 53, 95, 95, 95, 103, 103, 103, 50, 50, 50, 30, 30, 30, 106, 106, 106, 99, 99, 99, 47, 47, 47, 162, 162, 162, 126, 126, 126, 76, 76, 76, 57, 57, 57, 16, 16, 16, 4, 4, 4, 3, 3, 3, 151, 151, 151, 198, 198, 198, 251, 251, 251, 250, 250, 250, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 252, 252, 252, 199, 199, 199, 77, 77, 77, 151, 151, 151, 58, 58, 58, 64, 64, 64, 39, 39, 39, 5, 5, 5, 54, 54, 54, 89, 89, 89, 2, 2, 2, 35, 35, 35, 66, 66, 66, 121, 121, 121, 64, 64, 64, 3, 3, 3, 4, 4, 4, 27, 27, 27, 100, 100, 100, 55, 55, 55, 107, 107, 107, 136, 136, 136, 44, 44, 44, 4, 4, 4, 64, 64, 64, 79, 79, 79, 43, 43, 43, 19, 19, 19, 30, 30, 30, 4, 4, 4, 10, 10, 10, 77, 77, 77, 163, 163, 163, 146, 146, 146, 108, 108, 108, 34, 34, 34, 6, 6, 6, 11, 11, 11, 83, 83, 83, 114, 114, 114, 18, 18, 18, 79, 79, 79, 147, 147, 147, 144, 144, 144, 27, 27, 27, 23, 23, 23, 32, 32, 32, 54, 54, 54, 85, 85, 85, 115, 115, 115, 217, 217, 217, 188, 188, 188, 229, 229, 229, 252, 252, 252, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 188, 188, 188, 73, 73, 73, 12, 12, 12, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 75, 75, 75, 65, 65, 65, 0, 0, 0, 8, 8, 8, 64, 64, 64, 114, 114, 114, 13, 13, 13, 0, 0, 0, 0, 0, 0, 39, 39, 39, 128, 128, 128, 92, 92, 92, 127, 127, 127, 40, 40, 40, 0, 0, 0, 7, 7, 7, 87, 87, 87, 27, 27, 27, 2, 2, 2, 12, 12, 12, 8, 8, 8, 50, 50, 50, 82, 82, 82, 177, 177, 177, 94, 94, 94, 49, 49, 49, 5, 5, 5, 25, 25, 25, 21, 21, 21, 77, 77, 77, 121, 121, 121, 40, 40, 40, 0, 0, 0, 106, 106, 106, 183, 183, 183, 106, 106, 106, 25, 25, 25, 31, 31, 31, 18, 18, 18, 49, 49, 49, 60, 60, 60, 115, 115, 115, 191, 191, 191, 90, 90, 90, 11, 11, 11, 162, 162, 162, 204, 204, 204, 243, 243, 243, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 252, 252, 252, 255, 255, 255, 236, 236, 236, 201, 201, 201, 162, 162, 162, 44, 44, 44, 4, 4, 4, 13, 13, 13, 99, 99, 99, 68, 68, 68, 0, 0, 0, 99, 99, 99, 58, 58, 58, 57, 57, 57, 15, 15, 15, 3, 3, 3, 18, 18, 18, 86, 86, 86, 93, 93, 93, 20, 20, 20, 137, 137, 137, 33, 33, 33, 21, 21, 21, 50, 50, 50, 90, 90, 90, 73, 73, 73, 75, 75, 75, 77, 77, 77, 98, 98, 98, 70, 70, 70, 44, 44, 44, 110, 110, 110, 26, 26, 26, 12, 12, 12, 5, 5, 5, 0, 0, 0, 28, 28, 28, 129, 129, 129, 72, 72, 72, 12, 12, 12, 32, 32, 32, 130, 130, 130, 165, 165, 165, 72, 72, 72, 5, 5, 5, 20, 20, 20, 13, 13, 13, 11, 11, 11, 93, 93, 93, 223, 223, 223, 117, 117, 117, 102, 102, 102, 196, 196, 196, 214, 214, 214, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 252, 252, 252, 255, 255, 255, 254, 254, 254, 230, 230, 230, 163, 163, 163, 180, 180, 180, 201, 201, 201, 134, 134, 134, 122, 122, 122, 127, 127, 127, 158, 158, 158, 160, 160, 160, 183, 183, 183, 133, 133, 133, 148, 148, 148, 190, 190, 190, 165, 165, 165, 79, 79, 79, 51, 51, 51, 110, 110, 110, 135, 135, 135, 165, 165, 165, 132, 132, 132, 88, 88, 88, 130, 130, 130, 113, 113, 113, 113, 113, 113, 81, 81, 81, 91, 91, 91, 183, 183, 183, 133, 133, 133, 103, 103, 103, 30, 30, 30, 90, 90, 90, 118, 118, 118, 140, 140, 140, 62, 62, 62, 46, 46, 46, 19, 19, 19, 156, 156, 156, 192, 192, 192, 76, 76, 76, 69, 69, 69, 36, 36, 36, 39, 39, 39, 96, 96, 96, 209, 209, 209, 236, 236, 236, 175, 175, 175, 233, 233, 233, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 250, 250, 250, 254, 254, 254, 254, 254, 254, 250, 250, 250, 235, 235, 235, 253, 253, 253, 254, 254, 254, 250, 250, 250, 253, 253, 253, 251, 251, 251, 254, 254, 254, 247, 247, 247, 255, 255, 255, 243, 243, 243, 254, 254, 254, 255, 255, 255, 254, 254, 254, 249, 249, 249, 250, 250, 250, 251, 251, 251, 250, 250, 250, 253, 253, 253, 254, 254, 254, 253, 253, 253, 253, 253, 253, 252, 252, 252, 231, 231, 231, 241, 241, 241, 254, 254, 254, 247, 247, 247, 251, 251, 251, 235, 235, 235, 227, 227, 227, 253, 253, 253, 219, 219, 219, 227, 227, 227, 252, 252, 252, 234, 234, 234, 244, 244, 244, 212, 212, 212, 243, 243, 243, 254, 254, 254, 253, 253, 253, 254, 254, 254, 222, 222, 222, 250, 250, 250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 247, 247, 247, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 251, 251, 251, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255 }

local TEXHEIGHT = 64
local TEXWIDTH = 64

--- Get RGB value (not Alpha) from TEX.
---@param x number
---@param y number
---@return integer r
---@return integer g
---@return integer b
---@return integer a
---@nodiscard
function SampleTEX(x, y)
  -- Wrap coordinates
  local fx = x % TEXWIDTH
  local fy = y % TEXHEIGHT

  local x0 = math.floor(fx)
  local y0 = math.floor(fy)
  local x1 = (x0 + 1) % TEXWIDTH
  local y1 = (y0 + 1) % TEXHEIGHT

  -- Fractional parts
  local tx = fx - x0
  local ty = fy - y0

  local function get_pixel(ix, iy)
    local index = (iy * TEXWIDTH + ix) * 3
    return TEX[index + 1] or 255, TEX[index + 2] or 0, TEX[index + 3] or 0
  end

  local r00, g00, b00 = get_pixel(x0, y0)
  local r10, g10, b10 = get_pixel(x1, y0)
  local r01, g01, b01 = get_pixel(x0, y1)
  local r11, g11, b11 = get_pixel(x1, y1)

  local function lerp(a, b, t)
    return a * (1 - t) + b * t
  end

  local function bilerp(c00, c10, c01, c11, tx, ty)
    local top = lerp(c00, c10, tx)
    local bottom = lerp(c01, c11, tx)
    return lerp(top, bottom, ty)
  end

  local r = bilerp(r00, r10, r01, r11, tx, ty)
  local g = bilerp(g00, g10, g01, g11, tx, ty)
  local b = bilerp(b00, b10, b01, b11, tx, ty)

  return r or 255, g or 0, b or 0, 255
end

---comment
---@param x number
---@param y number
---@param r number
---@param g number
---@param b number
---@param a number
---@param width number
---@param rotation number
function DrawTEX(x, y, width, rotation, r, g, b, a)
   local scale_x = width / TEXWIDTH
  local scale_y = width / TEXHEIGHT

  local half_tex_w = TEXWIDTH / 2
  local half_tex_h = TEXHEIGHT / 2

  local should_remove_white = bs_param1() == 1

  local cos_r = math.cos(-rotation)
  local sin_r = math.sin(-rotation)

  -- Compute screen-space bounding box (conservatively)
  local max_dim = math.max(TEXWIDTH * scale_x, TEXHEIGHT * scale_y)
  local min_x = math.floor(x - max_dim)
  local max_x = math.ceil(x + max_dim)
  local min_y = math.floor(y - max_dim)
  local max_y = math.ceil(y + max_dim)

  for sy = min_y, max_y do
    for sx = min_x, max_x do
      -- Translate to origin
      local dx = sx - x
      local dy = sy - y

      -- Inverse rotation
      local tx = (dx * cos_r - dy * sin_r) / scale_x + half_tex_w
      local ty = (dx * sin_r + dy * cos_r) / scale_y + half_tex_h

      -- Sample only inside texture bounds
      if tx >= 0 and tx < TEXWIDTH and ty >= 0 and ty < TEXHEIGHT then
        local base_r, base_g, base_b, base_a = SampleTEX(tx, ty)

        local out_r = Tint(base_r, r)
        local out_g = Tint(base_g, g)
        local out_b = Tint(base_b, b)
        local out_a = Tint(base_a, a)

        if should_remove_white then
          out_a = out_a * (1 - Luminosity(base_r, base_g, base_b))
        end

        bs_pixel_set(sx, sy, out_r, out_g, out_b, out_a)
      end
    end
  end
end

---@param base integer
---@param tint integer
function Tint(base, tint)
  return (base / 255) * (tint / 255) * 255
end

---@param r integer
---@param g integer
---@param b integer
---@return number
function Luminosity(r, g, b)
  return 0.2126 * (r / 255) + 0.7152 * (g / 255) + 0.0722 * (b / 255)
end

function Lerp(a, b, t)
    return a * (1 - t) + b * t
  end